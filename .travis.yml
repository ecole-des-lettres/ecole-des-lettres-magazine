language: ruby
rvm:
- 2.4

# before_script:
#  - chmod +x ./script/cibuild # or do this locally and commit

# Assume bundler is being used, therefore
# the `install` step will run `bundle install` by default.
# script: ./script/cibuild
script:
  - bundle exec jekyll build
  - bundle exec rake test

# branch whitelist, only for GitHub Pages
branches:
  only:
  - master
  - gh-pages     # test the gh-pages branch

env:
  global:
  - NOKOGIRI_USE_SYSTEM_LIBRARIES=true
  - secure: kK8FQvlXicyTN/ezzjN2RzDKT3LvZd+tGA3grx57yTK2yDLLPcFHj9lzv9TBhl3j1fFaV5d+btsHeRRcFhsQEg0iJbD4M1oyTEtl1pM8CdKaMHv6zqn5tXLATYpA/1zEKlT5xSX8zEoUoT90oJPyIJDcNvy0PYOmUjeH00AW8s603vSp7bd1jllak7cPNwvS8rwNMDWMJPrIC9mh+WVZVCt/OWBcA6AJeS59BvbqTOJs/SjOHgyuuEIgRmK5rj9NYp8Ptn254mBygZWxOI5JwYBToHWDTGh6xd49B4C9IGNOvPfudeag5LSfv5+d9JpmGyeYqFZ7ZAP4TNAq1RN3f1JG3bVnjMOCSoU8QjG6OuiKVrlt4sot5hzhiV5LeYjTPWI1JJX6Nj4Wub/IvUaUQjrj8uGUFPpaM9Jgh+90arWBYO99HyORn4rWbF+YASeyQIGrfsGOtNqplCtsir9j+7kbNDVrAdyiysoVqpUrFjgt1h6QbCXprN//JGsn7fRoyPYjsGLmqplnWLVk+A/7iY28CYZr3yt9XSMWalC49v6wVu2eTrNyV1AZJDh/NqnhZEfYC1JkVXZ54zkyvKe/N8QWCa7qVw9P4bS70WkHFPtiLe2ELdoKVrFGLryntVbzvO3FVXMrlZigPVU/EkWsZgV4o7XDNV1nJvvIfALzqVM=

sudo: false # route your build to the container-based infrastructure for a faster build

